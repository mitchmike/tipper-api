{% extends 'admin/admin_base.html' %}

{% block header %}
  <h1>{% block title %}User Management{% endblock %}</h1>
{% endblock %}

{% block content %}
<form class="bg-white border">
    <table class="table table-hover ">
        <thead class="thead-dark">
            <tr>
                <th scope="col" style="text-align: end;">id</th>
                <th scope="col">first_name</th>
                <th scope="col">last_name</th>
                <th scope="col">email</th>
                <th scope="col">roles</th>
                <th scope="col">created_at</th>
                <th scope="col">updated_at</th>
                <th scope="col">actions</th>
            </tr>
        </thead>
        {% for user in user_list %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.roles }}</td>
                <td>{{ user.created_at }}</td>
                <td>{{ user.updated_at }}</td>
                <td>
                    <button name="user_edit_id" value={{user.id}} type="submit" formmethod="get" formaction="{{url_for('admin.users.detail')}}">Edit</button>
                    <button name="user_delete_id" value={{user.id}} type="submit" formmethod="post" formaction="{{url_for('admin.users.delete')}}">Delete</button>
                </td>
            </tr>
        {% endfor %}
    </table>
    <button value="Create user" type="submit" formaction="{{url_for('admin.users.create')}}">Create user</button>
</form>
{% endblock %}